import { Category } from '../types';

export const operators: Category = {
    id: 'operators',
    name: 'Operators',
    description: 'All Python operators — arithmetic, comparison, logical, bitwise, assignment, identity, membership, and special operators',
    icon: 'Calculator',
    entries: [
        { id: 'op-add', name: '+ (Addition)', signature: 'a + b', description: 'Adds two numbers or concatenates sequences (strings, lists, tuples).', example: 'print(3 + 4)           # 7\nprint("hello" + " " + "world")  # hello world\nprint([1, 2] + [3, 4])          # [1, 2, 3, 4]', tags: ['arithmetic', 'add', 'concatenate'] },
        { id: 'op-sub', name: '- (Subtraction)', signature: 'a - b', description: 'Subtracts the right operand from the left, or negates a number.', example: 'print(10 - 3)    # 7\nprint(-5)        # -5 (unary negation)\nprint({1,2,3} - {2})  # {1, 3} (set difference)', tags: ['arithmetic', 'subtract', 'negate'] },
        { id: 'op-mul', name: '* (Multiplication)', signature: 'a * b', description: 'Multiplies numbers, or repeats sequences.', example: 'print(3 * 4)         # 12\nprint("ha" * 3)      # hahaha\nprint([0] * 5)       # [0, 0, 0, 0, 0]', edgeCases: ['⚠️ [x] * n creates n references to same object. [[]] * 3 creates 3 refs to same inner list!'], tags: ['arithmetic', 'multiply', 'repeat'] },
        { id: 'op-div', name: '/ (Division)', signature: 'a / b', description: 'True division — always returns a float.', example: 'print(10 / 3)    # 3.3333...\nprint(10 / 2)    # 5.0 (still float!)\nprint(7 / 2)     # 3.5', edgeCases: ['Always returns float, even for exact division.', 'Raises ZeroDivisionError for /0.'], tags: ['arithmetic', 'divide', 'float'] },
        { id: 'op-floordiv', name: '// (Floor Division)', signature: 'a // b', description: 'Integer division — rounds down to nearest integer.', example: 'print(10 // 3)    # 3\nprint(7 // 2)     # 3\nprint(-7 // 2)    # -4 (rounds toward negative infinity)', edgeCases: ['Rounds toward negative infinity: -7 // 2 = -4 (not -3).'], tags: ['arithmetic', 'divide', 'integer', 'floor'] },
        { id: 'op-mod', name: '% (Modulo)', signature: 'a % b', description: 'Returns the remainder of division. Also used for string formatting (legacy).', example: 'print(10 % 3)     # 1\nprint(7 % 2)      # 1 (odd check)\nprint(15 % 5)     # 0 (divisibility check)\n\n# String formatting (legacy)\nprint("Hello %s" % "World")', tags: ['arithmetic', 'remainder', 'modulo'] },
        { id: 'op-pow', name: '** (Power)', signature: 'a ** b', description: 'Raises a to the power of b. Same as pow(a, b).', example: 'print(2 ** 10)     # 1024\nprint(9 ** 0.5)    # 3.0 (square root)\nprint(2 ** -1)     # 0.5', tags: ['arithmetic', 'power', 'exponent'] },
        { id: 'op-eq', name: '== (Equal)', signature: 'a == b', description: 'Returns True if values are equal. Compares by value, not identity.', example: 'print(5 == 5)         # True\nprint("hi" == "hi")   # True\nprint([1,2] == [1,2]) # True (same content)', edgeCases: ['Use == for value equality, is for identity.', '5 == 5.0 is True.'], tags: ['comparison', 'equal'] },
        { id: 'op-neq', name: '!= (Not Equal)', signature: 'a != b', description: 'Returns True if values are not equal.', example: 'print(5 != 3)        # True\nprint("hi" != "ho")  # True\nprint(1 != True)     # False (True == 1)', tags: ['comparison', 'not-equal'] },
        { id: 'op-gt', name: '> (Greater Than)', signature: 'a > b', description: 'Returns True if left operand is strictly greater than right.', example: 'print(5 > 3)         # True\nprint("b" > "a")     # True (lexicographic)\nprint([1,3] > [1,2]) # True', tags: ['comparison', 'greater'] },
        { id: 'op-lt', name: '< (Less Than)', signature: 'a < b', description: 'Returns True if left operand is strictly less than right.', example: 'print(3 < 5)    # True\nprint("a" < "b")  # True', tags: ['comparison', 'less'] },
        { id: 'op-gte', name: '>= (Greater or Equal)', signature: 'a >= b', description: 'Returns True if left is greater than or equal to right.', example: 'print(5 >= 5)   # True\nprint(5 >= 3)   # True', tags: ['comparison', 'greater-equal'] },
        { id: 'op-lte', name: '<= (Less or Equal)', signature: 'a <= b', description: 'Returns True if left is less than or equal to right.', example: 'print(3 <= 5)   # True\nprint(3 <= 3)   # True', tags: ['comparison', 'less-equal'] },
        { id: 'op-and', name: 'and (Logical AND)', signature: 'a and b', description: 'Returns first falsy value or last value. Short-circuits.', example: 'print(True and False)   # False\nprint(True and True)    # True\nprint(1 and 2 and 3)    # 3 (last truthy)\nprint(0 and 1)          # 0 (first falsy)', edgeCases: ['Returns actual values, not just True/False.', '0 and "hi" returns 0.'], tags: ['logical', 'and', 'boolean'] },
        { id: 'op-or', name: 'or (Logical OR)', signature: 'a or b', description: 'Returns first truthy value or last value. Short-circuits.', example: 'print(False or True)    # True\nprint(0 or "default")   # "default"\nprint(None or [])       # [] (last value when all falsy)', edgeCases: ['Commonly used for defaults: name = user_input or "Anonymous"'], tags: ['logical', 'or', 'boolean'] },
        { id: 'op-not', name: 'not (Logical NOT)', signature: 'not a', description: 'Returns True if operand is falsy, False if truthy.', example: 'print(not True)    # False\nprint(not 0)       # True\nprint(not "")      # True\nprint(not [1,2])   # False', tags: ['logical', 'not', 'negate'] },
        { id: 'op-bitand', name: '& (Bitwise AND)', signature: 'a & b', description: 'Performs bitwise AND on integers. Also set intersection.', example: 'print(0b1100 & 0b1010)  # 8 (0b1000)\nprint(12 & 10)         # 8\n\n# Set intersection\nprint({1,2,3} & {2,3,4})  # {2, 3}', tags: ['bitwise', 'and', 'binary'] },
        { id: 'op-bitor', name: '| (Bitwise OR)', signature: 'a | b', description: 'Performs bitwise OR on integers. Also set union and dict merge (3.9+).', example: 'print(0b1100 | 0b1010)  # 14 (0b1110)\n\n# Set union\nprint({1,2} | {3,4})  # {1, 2, 3, 4}\n\n# Dict merge (3.9+)\nprint({"a":1} | {"b":2})  # {\'a\': 1, \'b\': 2}', tags: ['bitwise', 'or', 'binary'] },
        { id: 'op-bitxor', name: '^ (Bitwise XOR)', signature: 'a ^ b', description: 'Performs bitwise exclusive OR. Also set symmetric difference.', example: 'print(0b1100 ^ 0b1010)  # 6 (0b0110)\n\n# Set symmetric difference\nprint({1,2,3} ^ {2,3,4})  # {1, 4}', tags: ['bitwise', 'xor', 'binary'] },
        { id: 'op-bitnot', name: '~ (Bitwise NOT)', signature: '~a', description: 'Inverts all bits. Result is -(a+1).', example: 'print(~0)    # -1\nprint(~5)    # -6\nprint(~-1)   # 0', edgeCases: ['~x equals -(x+1) for all integers.'], tags: ['bitwise', 'not', 'invert'] },
        { id: 'op-lshift', name: '<< (Left Shift)', signature: 'a << n', description: 'Shifts bits left by n positions. Equivalent to multiplying by 2^n.', example: 'print(1 << 3)    # 8  (1 * 2^3)\nprint(5 << 2)    # 20 (5 * 4)', tags: ['bitwise', 'shift', 'multiply'] },
        { id: 'op-rshift', name: '>> (Right Shift)', signature: 'a >> n', description: 'Shifts bits right by n positions. Equivalent to integer division by 2^n.', example: 'print(8 >> 3)    # 1  (8 // 2^3)\nprint(20 >> 2)   # 5  (20 // 4)', tags: ['bitwise', 'shift', 'divide'] },
        { id: 'op-assign', name: '= (Assignment)', signature: 'variable = value', description: 'Assigns a value to a variable. Can also do multiple and tuple assignment.', example: 'x = 10\na, b = 1, 2\na = b = c = 0  # All set to 0\nx, y = y, x    # Swap values', tags: ['assignment', 'variable'] },
        { id: 'op-augmented', name: '+= -= *= etc.', signature: 'a += b  (a = a + b)', description: 'Augmented assignment operators combine operation with assignment.', example: 'x = 10\nx += 5    # x = 15\nx -= 3    # x = 12\nx *= 2    # x = 24\nx //= 5   # x = 4\nx **= 3   # x = 64\nx %= 10   # x = 4', tags: ['assignment', 'augmented', 'shorthand'] },
        { id: 'op-is', name: 'is (Identity)', signature: 'a is b', description: 'Returns True if both variables point to the SAME object in memory (not just equal values).', example: 'a = [1, 2]\nb = a\nc = [1, 2]\nprint(a is b)    # True (same object)\nprint(a is c)    # False (different objects)\nprint(a == c)    # True (same value)\nprint(a is None) # Common pattern', edgeCases: ['Only use "is" for None, True, False comparisons.', 'Use == for value equality.'], tags: ['identity', 'reference', 'same-object'] },
        { id: 'op-is-not', name: 'is not', signature: 'a is not b', description: 'Returns True if both variables point to different objects.', example: 'x = [1, 2]\ny = [1, 2]\nprint(x is not y)    # True\nprint(x is not None) # True', tags: ['identity', 'reference', 'different'] },
        { id: 'op-in', name: 'in (Membership)', signature: 'item in container', description: 'Returns True if item is found in the container (list, tuple, dict, set, string).', example: 'print(3 in [1, 2, 3])       # True\nprint("x" in "hello")       # False\nprint("key" in {"key": 1})  # True (checks keys)\nprint(5 in {1, 5, 9})       # True', complexity: 'O(n) for list/tuple, O(1) for set/dict', tags: ['membership', 'contains', 'check'] },
        { id: 'op-not-in', name: 'not in', signature: 'item not in container', description: 'Returns True if item is NOT found in the container.', example: 'print(4 not in [1, 2, 3])  # True\nprint("h" not in "hello")  # False', tags: ['membership', 'not-contains', 'check'] },
        { id: 'op-walrus', name: ':= (Walrus Operator)', signature: 'variable := expression', description: 'Assignment expression — assigns and returns value in a single expression. (3.8+)', example: '# Without walrus\ndata = input("Enter: ")\nif len(data) > 5:\n    print(f"Long input: {data}")\n\n# With walrus\nif (n := len(data)) > 5:\n    print(f"Length {n} is too long")\n\n# In while loops\nwhile (line := input()) != "quit":\n    print(f"You said: {line}")', tags: ['assignment', 'expression', 'walrus'] },
        { id: 'op-ternary', name: 'Ternary (Conditional Expression)', signature: 'value_if_true if condition else value_if_false', description: 'Inline conditional expression. Python\'s version of the ternary operator.', example: 'age = 20\nstatus = "adult" if age >= 18 else "minor"\nprint(status)  # adult\n\n# Nested (not recommended)\nx = 10\nresult = "positive" if x > 0 else "zero" if x == 0 else "negative"', tags: ['conditional', 'inline', 'ternary'] },
        { id: 'op-unpack-star', name: '* (Unpacking)', signature: '*iterable', description: 'Unpacks an iterable into individual elements. Used in function calls, assignments, and list/dict literals.', example: 'nums = [1, 2, 3]\nprint(*nums)  # 1 2 3\n\ndef add(a, b, c):\n    return a + b + c\nprint(add(*nums))  # 6\n\n# In list literals\na = [1, 2]\nb = [*a, 3, 4]  # [1, 2, 3, 4]', tags: ['unpacking', 'spread', 'iterable'] },
        { id: 'op-unpack-doublestar', name: '** (Dict Unpacking)', signature: '**dict', description: 'Unpacks a dictionary into keyword arguments or merges dicts.', example: 'def greet(name, age):\n    print(f"{name} is {age}")\n\ndata = {"name": "Alice", "age": 30}\ngreet(**data)  # Alice is 30\n\n# Merging dicts\na = {"x": 1}\nb = {"y": 2}\nmerged = {**a, **b}  # {\'x\': 1, \'y\': 2}', tags: ['unpacking', 'spread', 'dict'] },
    ]
};
