import { Category } from '../types';

export const dictMethods: Category = {
    id: 'dict-methods',
    name: 'Dict Methods',
    description: 'All methods and operations for Python dictionaries — mutable key-value mappings',
    icon: 'BookOpen',
    entries: [
        { id: 'dict-get', name: 'dict.get()', signature: 'dict.get(key, default=None) -> value', description: 'Returns the value for key if key exists, else returns default. Never raises KeyError.', example: 'd = {"name": "Alice", "age": 30}\nprint(d.get("name"))         # Alice\nprint(d.get("email"))        # None\nprint(d.get("email", "N/A")) # N/A', edgeCases: ['Safer than d[key] because it never raises KeyError.'], complexity: 'O(1) average', tags: ['access', 'safe', 'lookup'] },
        { id: 'dict-keys', name: 'dict.keys()', signature: 'dict.keys() -> dict_keys', description: 'Returns a view of dictionary keys. Reflects changes to the dict.', example: 'd = {"a": 1, "b": 2, "c": 3}\nprint(list(d.keys()))  # [\'a\', \'b\', \'c\']\n\nfor key in d.keys():\n    print(key)', tags: ['keys', 'iterate', 'view'] },
        { id: 'dict-values', name: 'dict.values()', signature: 'dict.values() -> dict_values', description: 'Returns a view of dictionary values.', example: 'd = {"a": 1, "b": 2, "c": 3}\nprint(list(d.values()))  # [1, 2, 3]\nprint(sum(d.values()))   # 6', tags: ['values', 'iterate', 'view'] },
        { id: 'dict-items', name: 'dict.items()', signature: 'dict.items() -> dict_items', description: 'Returns a view of (key, value) pairs. Essential for iterating dictionaries.', example: 'd = {"name": "Alice", "age": 30}\nfor key, value in d.items():\n    print(f"{key}: {value}")\n# name: Alice\n# age: 30', tags: ['iterate', 'pairs', 'view'] },
        { id: 'dict-update', name: 'dict.update()', signature: 'dict.update(other) -> None', description: 'Updates the dictionary with key-value pairs from another dict or iterable.', example: 'd = {"a": 1, "b": 2}\nd.update({"b": 99, "c": 3})\nprint(d)  # {\'a\': 1, \'b\': 99, \'c\': 3}\n\nd.update(x=10, y=20)\nprint(d)  # {\'a\': 1, \'b\': 99, \'c\': 3, \'x\': 10, \'y\': 20}', edgeCases: ['Existing keys are overwritten by new values.'], tags: ['merge', 'update', 'combine'] },
        { id: 'dict-pop', name: 'dict.pop()', signature: 'dict.pop(key, default=...) -> value', description: 'Removes and returns the value for key. Raises KeyError if key missing and no default.', example: 'd = {"a": 1, "b": 2, "c": 3}\nval = d.pop("b")\nprint(val, d)  # 2 {\'a\': 1, \'c\': 3}\n\nmissing = d.pop("z", "default")\nprint(missing)  # default', complexity: 'O(1) average', tags: ['remove', 'return', 'delete'] },
        { id: 'dict-popitem', name: 'dict.popitem()', signature: 'dict.popitem() -> (key, value)', description: 'Removes and returns the last inserted (key, value) pair. LIFO order (3.7+).', example: 'd = {"a": 1, "b": 2, "c": 3}\nitem = d.popitem()\nprint(item)  # (\'c\', 3)\nprint(d)     # {\'a\': 1, \'b\': 2}', edgeCases: ['Raises KeyError on empty dict. Useful as a stack-like operation.'], tags: ['remove', 'last', 'lifo'] },
        { id: 'dict-setdefault', name: 'dict.setdefault()', signature: 'dict.setdefault(key, default=None) -> value', description: 'Returns value for key if it exists. If not, inserts key with default value and returns it.', example: 'd = {"a": 1}\nval = d.setdefault("b", 2)\nprint(val)  # 2\nprint(d)    # {\'a\': 1, \'b\': 2}\n\n# Useful for grouping\ngroups = {}\nfor word in ["apple", "ant", "banana", "bat"]:\n    groups.setdefault(word[0], []).append(word)\nprint(groups)  # {\'a\': [\'apple\', \'ant\'], \'b\': [\'banana\', \'bat\']}', tags: ['default', 'insert', 'conditional'] },
        { id: 'dict-clear', name: 'dict.clear()', signature: 'dict.clear() -> None', description: 'Removes all items from the dictionary.', example: 'd = {"a": 1, "b": 2}\nd.clear()\nprint(d)  # {}', tags: ['remove', 'empty', 'reset'] },
        { id: 'dict-copy', name: 'dict.copy()', signature: 'dict.copy() -> dict', description: 'Returns a shallow copy of the dictionary.', example: 'original = {"a": 1, "b": [2, 3]}\ncopy = original.copy()\ncopy["a"] = 99\nprint(original["a"])  # 1 (unchanged)\n\ncopy["b"].append(4)\nprint(original["b"])  # [2, 3, 4] (shared!)', edgeCases: ['Shallow copy — nested mutable objects are still shared.'], tags: ['copy', 'clone', 'shallow'] },
        { id: 'dict-fromkeys', name: 'dict.fromkeys()', signature: 'dict.fromkeys(iterable, value=None) -> dict', description: 'Creates a new dictionary with keys from an iterable, all set to the same value.', example: 'keys = ["a", "b", "c"]\nd = dict.fromkeys(keys, 0)\nprint(d)  # {\'a\': 0, \'b\': 0, \'c\': 0}', edgeCases: ['⚠️ All keys share the SAME value object. If value is mutable (like []), all keys point to same list!'], tags: ['create', 'initialize', 'factory'] },
        { id: 'dict-comprehension', name: 'Dict Comprehension', signature: '{key: value for item in iterable}', description: 'Concise way to create dictionaries from iterables.', example: '# Basic\nsquares = {x: x**2 for x in range(5)}\nprint(squares)  # {0: 0, 1: 1, 2: 4, 3: 9, 4: 16}\n\n# With condition\nevens = {x: x**2 for x in range(10) if x % 2 == 0}\nprint(evens)  # {0: 0, 2: 4, 4: 16, 6: 36, 8: 64}\n\n# Invert a dict\noriginal = {"a": 1, "b": 2}\ninverted = {v: k for k, v in original.items()}\nprint(inverted)  # {1: \'a\', 2: \'b\'}', tags: ['comprehension', 'create', 'transform'] },
        { id: 'dict-merge', name: 'Dict Merge (|)', signature: 'dict1 | dict2 -> dict', description: 'Merges two dictionaries (3.9+). Right-hand dict wins on key conflicts.', example: 'a = {"x": 1, "y": 2}\nb = {"y": 99, "z": 3}\n\nmerged = a | b\nprint(merged)  # {\'x\': 1, \'y\': 99, \'z\': 3}\n\n# In-place merge\na |= b\nprint(a)  # {\'x\': 1, \'y\': 99, \'z\': 3}', edgeCases: ['Requires Python 3.9+. For older versions use {**a, **b} or dict.update().'], tags: ['merge', 'combine', 'operator'] },
        { id: 'dict-nesting', name: 'Nested Dicts', signature: 'N/A', description: 'Dictionaries can contain other dicts, enabling complex data structures.', example: 'users = {\n    "alice": {"age": 30, "hobbies": ["reading"]},\n    "bob": {"age": 25, "hobbies": ["gaming"]}\n}\n\nprint(users["alice"]["age"])  # 30\nusers["alice"]["hobbies"].append("coding")\nprint(users["alice"]["hobbies"])  # [\'reading\', \'coding\']', tags: ['nested', 'structure', 'complex'] },
    ]
};
