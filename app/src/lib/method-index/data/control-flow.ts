import { Category } from '../types';

export const controlFlow: Category = {
    id: 'control-flow',
    name: 'Control Flow',
    description: 'Conditionals, loops, and flow control keywords — if/elif/else, for, while, break, continue, pass, match/case',
    icon: 'GitBranch',
    entries: [
        { id: 'cf-if', name: 'if / elif / else', signature: 'if condition: ... elif condition: ... else: ...', description: 'Conditional execution. Runs the first branch whose condition is True.', example: 'age = 20\nif age < 13:\n    print("child")\nelif age < 18:\n    print("teenager")\nelse:\n    print("adult")\n# Output: adult\n\n# One-liner\nx = 10\nresult = "positive" if x > 0 else "non-positive"', tags: ['conditional', 'if', 'branch'] },
        { id: 'cf-for', name: 'for loop', signature: 'for variable in iterable: ...', description: 'Iterates over each item in a sequence (list, tuple, string, range, etc.).', example: 'for fruit in ["apple", "banana", "cherry"]:\n    print(fruit)\n\n# With range\nfor i in range(5):\n    print(i)  # 0, 1, 2, 3, 4\n\n# With enumerate\nfor i, item in enumerate(["a", "b", "c"]):\n    print(f"{i}: {item}")', tags: ['loop', 'iterate', 'for'] },
        { id: 'cf-while', name: 'while loop', signature: 'while condition: ...', description: 'Repeats as long as the condition is True. Must ensure condition eventually becomes False.', example: 'count = 0\nwhile count < 5:\n    print(count)\n    count += 1\n\n# With user input\nwhile True:\n    answer = input("Continue? (y/n): ")\n    if answer == "n":\n        break', edgeCases: ['Forgetting to update the condition causes infinite loops!'], tags: ['loop', 'condition', 'while'] },
        { id: 'cf-match-case', name: 'match / case', signature: 'match subject: case pattern: ...', description: 'Structural pattern matching (3.10+). Python\'s version of switch/case with powerful pattern support.', example: 'command = "greet Alice"\nmatch command.split():\n    case ["greet", name]:\n        print(f"Hello, {name}!")\n    case ["quit"]:\n        print("Goodbye!")\n    case _:\n        print("Unknown command")\n\n# With types\ndef process(value):\n    match value:\n        case int(n) if n > 0:\n            print(f"Positive int: {n}")\n        case str(s):\n            print(f"String: {s}")\n        case _:\n            print("Other")', edgeCases: ['Requires Python 3.10+.', 'The _ pattern is the wildcard/default.'], tags: ['switch', 'pattern', 'match'] },
        { id: 'cf-for-else', name: 'for...else', signature: 'for item in iterable: ... else: ...', description: 'The else block runs only if the loop completes WITHOUT hitting break.', example: '# Search pattern\nnums = [1, 3, 5, 7, 9]\nfor n in nums:\n    if n % 2 == 0:\n        print(f"Found even: {n}")\n        break\nelse:\n    print("No even numbers found")\n# Output: No even numbers found', edgeCases: ['The else runs when loop finishes normally (no break).', 'Counter-intuitive — think of it as "no-break".'], tags: ['loop', 'else', 'no-break'] },
        { id: 'cf-nested-loops', name: 'Nested Loops', signature: 'for x in ...: for y in ...: ...', description: 'Loops inside loops. Use for processing 2D data (grids, matrices, combinations).', example: '# Multiplication table\nfor i in range(1, 4):\n    for j in range(1, 4):\n        print(f"{i}x{j}={i*j}", end="  ")\n    print()\n# 1x1=1  1x2=2  1x3=3\n# 2x1=2  2x2=4  2x3=6\n# 3x1=3  3x2=6  3x3=9', edgeCases: ['break only exits the innermost loop.', 'Use a flag variable or return to break all.'], tags: ['loop', 'nested', 'matrix'] },

        { id: 'cf-loop-unpacking', name: 'Loop Unpacking', signature: 'for key, value in iterable: ...', description: 'Destructure items during iteration. Works with any iterable of tuples/lists.', example: 'pairs = [("Alice", 30), ("Bob", 25)]\nfor name, age in pairs:\n    print(f"{name} is {age}")\n\n# Dict iteration\nscores = {"Alice": 95, "Bob": 87}\nfor name, score in scores.items():\n    print(f"{name}: {score}")\n\n# Enumerate with unpacking\nfor i, (name, age) in enumerate(pairs):\n    print(f"{i}: {name} ({age})")', tags: ['loop', 'unpacking', 'destructure'] },
    ]
};
