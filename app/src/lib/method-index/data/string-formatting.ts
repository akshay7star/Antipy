import { Category } from '../types';

export const stringFormatting: Category = {
    id: 'string-formatting',
    name: 'String Formatting',
    description: 'All the ways to format strings in Python â€” f-strings, .format(), %-formatting, alignment, and more',
    icon: 'AlignLeft',
    entries: [
        {
            id: 'fmt-fstring',
            name: 'f-strings',
            signature: 'f"text {expression}"',
            description: 'The modern, preferred way to format strings (3.6+). Embed any expression inside {}.',
            example: [
                'name = "Alice"',
                'age = 30',
                'print(f"{name} is {age} years old")',
                '',
                '# Expressions inside {}',
                'print(f"2 + 3 = {2 + 3}")        # 2 + 3 = 5',
                "print(f\"{'hello'.upper()}\")      # HELLO",
                'print(f"{[x**2 for x in range(4)]}")  # [0, 1, 4, 9]',
                '',
                '# Multi-line',
                'msg = (',
                '    f"Name: {name}\\n"',
                '    f"Age: {age}"',
                ')',
            ].join('\n'),
            tags: ['fstring', 'format', 'modern'],
        },
        {
            id: 'fmt-alignment',
            name: 'Alignment & Padding',
            signature: 'f"{value:<width}" | f"{value:>width}" | f"{value:^width}"',
            description: 'Control text alignment, padding, and fill characters in formatted strings.',
            example: [
                'name = "Alice"',
                'print(f"|{name:<20}|")    # |Alice               |',
                'print(f"|{name:>20}|")    # |               Alice|',
                'print(f"|{name:^20}|")    # |       Alice        |',
                'print(f"|{name:*^20}|")   # |*******Alice********|',
                '',
                '# Number padding',
                'print(f"{42:05d}")          # 00042',
                'print(f"{3.14:10.2f}")      # "      3.14"',
            ].join('\n'),
            tags: ['alignment', 'padding', 'width'],
        },
        {
            id: 'fmt-number-format',
            name: 'Number Formatting',
            signature: 'f"{num:.2f}" | f"{num:,}" | f"{num:.2%}"',
            description: 'Format numbers with decimal places, thousands separators, percentages, and bases.',
            example: [
                'pi = 3.14159265',
                'print(f"{pi:.2f}")          # 3.14',
                'print(f"{pi:.4f}")          # 3.1416',
                '',
                'big = 1000000',
                'print(f"{big:,}")            # 1,000,000',
                'print(f"{big:_}")            # 1_000_000',
                '',
                'ratio = 0.856',
                'print(f"{ratio:.1%}")        # 85.6%',
                '',
                'num = 255',
                'print(f"{num:b}")            # 11111111 (binary)',
                'print(f"{num:o}")            # 377 (octal)',
                'print(f"{num:x}")            # ff (hex)',
                'print(f"{num:#x}")           # 0xff (with prefix)',
            ].join('\n'),
            tags: ['number', 'decimal', 'percentage', 'binary'],
        },
        {
            id: 'fmt-dot-format',
            name: '.format() Method',
            signature: '"template {0} {name}".format(positional, name=keyword)',
            description: 'Older string formatting method. Still useful for reusable templates.',
            example: [
                '# Positional',
                'print("{} is {} years old".format("Alice", 30))',
                '# Alice is 30 years old',
                '',
                '# Named',
                'print("{name} scored {score}%".format(name="Bob", score=95))',
                '',
                '# Indexed',
                'print("{0} vs {1} vs {0}".format("A", "B"))',
                '# A vs B vs A',
                '',
                '# Reusable template',
                'template = "Dear {name},\\nYour balance is ${balance:.2f}"',
                'print(template.format(name="Alice", balance=1234.5))',
            ].join('\n'),
            tags: ['format', 'template', 'positional'],
        },
        {
            id: 'fmt-percent',
            name: '% Formatting (Legacy)',
            signature: '"text %s %d %f" % (values)',
            description: 'C-style printf formatting. Legacy but still found in older code.',
            example: [
                'name = "Alice"',
                'age = 30',
                'score = 95.5',
                '',
                'print("Name: %s" % name)           # Name: Alice',
                'print("Age: %d" % age)             # Age: 30',
                'print("Score: %.1f%%" % score)      # Score: 95.5%',
                'print("%s is %d years old" % (name, age))',
                '',
                '# Format codes: %s=string, %d=int, %f=float, %x=hex',
            ].join('\n'),
            edgeCases: ['Use f-strings instead for new code.', '% formatting is harder to read and error-prone.'],
            tags: ['percent', 'legacy', 'printf'],
        },
        {
            id: 'fmt-repr-str',
            name: 'repr() vs str()',
            signature: 'f"{value!r}" vs f"{value!s}"',
            description: 'Use !r for repr (debug) and !s for str (display) inside format strings.',
            example: [
                'text = "hello\\nworld"',
                'print(f"str: {text}")      # str: hello (newline) world',
                "print(f\"repr: {text!r}\")   # repr: 'hello\\nworld'",
                '',
                'from datetime import datetime',
                'now = datetime.now()',
                'print(f"str: {now!s}")     # str: 2024-01-15 10:30:00',
                'print(f"repr: {now!r}")    # repr: datetime.datetime(2024, 1, 15, ...)',
            ].join('\n'),
            tags: ['repr', 'debug', 'display'],
        },
        {
            id: 'fmt-raw-strings',
            name: 'Raw Strings',
            signature: 'r"text with backslashes"',
            description: 'Raw strings treat backslashes as literal characters. Essential for regex and Windows paths.',
            example: [
                '# Normal string',
                'print("C:\\\\Users\\\\name")   # C:\\Users\\name',
                '',
                '# Raw string (easier)',
                'print(r"C:\\Users\\name")    # C:\\Users\\name',
                '',
                '# Essential for regex',
                'import re',
                'pattern = r"\\d{3}-\\d{4}"',
                'print(re.findall(pattern, "Call 555-1234"))',
            ].join('\n'),
            tags: ['raw', 'backslash', 'regex', 'path'],
        },
        {
            id: 'fmt-multiline',
            name: 'Multiline Strings',
            signature: '"""triple quotes""" or implicit concatenation',
            description: 'Ways to create multi-line strings in Python.',
            example: [
                '# Triple quotes',
                'message = """Dear User,',
                '',
                'Thank you for signing up.',
                '',
                'Best regards,',
                'The Team"""',
                '',
                '# Implicit concatenation (no + needed)',
                'long_string = (',
                '    "This is a very long string "',
                '    "that spans multiple lines "',
                '    "in the source code."',
                ')',
                'print(long_string)  # One continuous line',
            ].join('\n'),
            tags: ['multiline', 'triple-quote', 'concatenation'],
        },
        {
            id: 'fmt-escape',
            name: 'Escape Sequences',
            signature: 'Special characters: newline, tab, backslash, quotes, unicode',
            description: 'Special character sequences that represent whitespace, unicode, and other non-printable characters.',
            example: [
                'print("Line 1\\nLine 2")      # Newline',
                'print("Tab\\there")            # Tab',
                'print("She said \\"hi\\"")    # Quotes',
                'print("Backslash: \\\\")       # Backslash',
                'print("Heart: \\u2764")        # Unicode heart',
                'print("Bell: \\a")             # System beep',
                '',
                '# Common escape sequences:',
                '# \\n  newline',
                '# \\t  tab',
                '# \\\\  backslash',
                "# \\'  single quote",
                '# \\"  double quote',
                '# \\uXXXX  unicode (4 hex digits)',
            ].join('\n'),
            tags: ['escape', 'special-chars', 'unicode'],
        },
    ],
};
